<div id="shape-modal" class="modal" [ngStyle]="{'display': showModal ? 'block' : 'none'}">
  <div class="modal-content">
    <h3>Adicionar Forma Geométrica</h3>

    <div class="shape-preview-container">
      <div class="shape-preview" [ngClass]="{
        'preview-square': shapeType === 'square',
        'preview-rectangle': shapeType === 'rectangle',
        'preview-circle': shapeType === 'circle',
        'preview-triangle': shapeType === 'triangle'
      }"></div>
    </div>

    <label for="shapeType">Tipo de Forma:</label>
    <select id="shapeType" [(ngModel)]="shapeType" (change)="onShapeTypeChange()">
      <option value="square">Quadrado</option>
      <option value="rectangle">Retângulo</option>
      <option value="circle">Círculo</option>
      <option value="triangle">Triângulo</option>
    </select>

    <label for="borderWidth">Espessura da Borda:</label>
    <select id="borderWidth" [(ngModel)]="borderWidth" (change)="updateShapePreview()">
      <option value="1px">Fina</option>
      <option value="3px">Média</option>
      <option value="5px">Grossa</option>
    </select>

    <label for="shapeWidth">Largura da Forma:</label>
    <div class="slider-container">
      <input
        type="range"
        min="50"
        max="300"
        [(ngModel)]="width"
        id="shapeWidth"
        (input)="updateShapeSize()"
        [ngStyle]="{ 'background': getShapeWidthSliderBackground() }"
      />
      <input
        type="number"
        [(ngModel)]="width"
        min="50"
        max="300"
        id="shapeWidthInput"
        (input)="updateShapeSize()"
      />
      <span>px</span>
    </div>

    <label *ngIf="shapeType !== 'circle'" for="shapeHeight">Altura da Forma:</label>
    <div *ngIf="shapeType !== 'circle'" class="slider-container">
      <input
        type="range"
        min="50"
        max="300"
        [(ngModel)]="height"
        id="shapeHeight"
        (input)="updateShapeSize()"
        [ngStyle]="{ 'background': getShapeHeightSliderBackground() }"
      />
      <input
        type="number"
        [(ngModel)]="height"
        min="50"
        max="300"
        id="shapeHeightInput"
        (input)="updateShapeSize()"
      />
      <span>px</span>
    </div>

    <label for="borderColor">Cor da Borda:</label>
    <input type="color" id="borderColor" [(ngModel)]="borderColor" (input)="updateShapePreview()">

    <label for="fillColor">Cor de Preenchimento:</label>
    <input type="color" id="fillColor" [(ngModel)]="fillColor" (input)="updateShapePreview()">

    <div class="button-container">
      <button class="btn" (click)="applyChanges()">Adicionar Forma</button>
      <button class="btn btn-close" (click)="closeModal()">Fechar</button>
    </div>
  </div>
</div>